# 投资分析系统

一个基于 Streamlit 的综合投资分析系统，集成期权市场分析、投资收益计算、指数监控和板块分析功能。

## 功能特点

### 1. 期权市场分析
- PC比（认沽认购比）分析与预警
- 隐含波动率（IV）分析
- IV Skew（波动率偏斜）分析
- 市场情绪综合研判
- 多维度信号系统

### 2. 投资收益计算
- 投资收益实时计算
- 收益率统计分析
- 收益状态可视化
- 投资组合跟踪

### 3. 指数监控分析
- 上证指数实时监控
- 创业板指数实时监控
- 指数波动率统计分析
- 交易日涨跌分析

### 4. A股板块分析
- 可选择任意时间范围的板块表现
- 板块涨跌幅排行及可视化
- 板块成分股权重与涨跌分析
- 行业板块相关基金智能匹配
- 直观的数据展示与交互式图表

## 安装部署

### 环境要求
- Python 3.8+
- Streamlit 1.32+
- pandas 2.0+

### 安装步骤

1. 安装依赖：
```bash
pip install -r requirements.txt
```

2. 运行应用：
```bash
# 运行主应用
streamlit run investment_app.py

# 运行期权分析模块
streamlit run pages/option_analysis.py
```

## 模块说明

### 1. 期权分析模块
- PC比区间分析
- IV水平监控
- Skew信号识别
- 市场情绪研判
- 组合信号系统

### 2. 收益计算模块
- 初始投资金额设置
- 当前投资价值计算
- 收益率实时统计
- 收益状态仪表盘

### 3. 指数监控模块
- 上证指数行情
- 创业板指数行情
- 涨跌幅统计分析
- 波动天数统计
- 成交量分析
- 趋势判断

### 4. 板块分析模块
- 灵活的日期范围选择器（支持2015年至今任意时间段）
- 行业板块涨跌幅排名及可视化展示
- 板块成分股的权重分析与涨跌幅分析
- 智能关键词匹配的板块相关基金推荐
- 板块成分股的详细表现统计与展示

## 数据要求

### 期权数据
- 认沽认购持仓比数据
- 隐含波动率数据
- 成交量数据
- 指数行情数据

### 格式要求
- 支持CSV/Excel格式
- 时间序列数据
- 字段名规范统一

## 使用指南

### 1. 期权分析
1. 导入期权市场数据
2. 选择分析维度
3. 查看分析结果和信号
4. 参考交易建议

### 2. 收益计算
1. 输入初始投资金额
2. 更新当前投资价值
3. 查看收益分析
4. 跟踪投资表现

### 3. 指数监控
1. 查看实时指数
2. 分析上证指数和创业板指数波动情况
3. 观察成交特征和波动规律
4. 把握市场机会

### 4. 板块分析
1. 进入"A股板块分析"页面
2. 使用顶部的日期选择器设置想要分析的时间范围
   - 起始日期：选择分析的开始时间（最早可选2015年）
   - 结束日期：选择分析的结束时间（最晚为当前日期）
3. 系统会自动分析该时间范围内所有行业板块的表现
4. 查看"板块涨跌幅排行"部分，了解不同行业在所选时间段的表现
5. 在"板块详细分析"部分选择感兴趣的板块
6. 查看所选板块的成分股分析：
   - 左侧展示权重最大的10只股票
   - 右侧展示涨跌幅最大的10只股票
7. 查看与所选板块相关的基金推荐

## 注意事项
- 分析结果仅供参考
- 需结合其他分析工具
- 注意风险控制
- 合理制定策略

## 更新日志

### v2.1.0 (2025-03)
- 新增创业板指数跌幅统计功能
- 优化指数波动分析算法
- 改进数据源稳定性
- 增强网络连接错误处理

### v2.0.0 (2024-03)
- 新增期权市场分析模块
- 增强市场信号系统
- 优化数据处理流程
- 改进用户界面

### v1.0.0 (2024-01)
- 首次发布
- 基础收益计算功能
- 指数监控功能

### v2.2.0 (2024-06)
- 新增A股板块分析功能
- 支持行业板块涨跌幅排名
- 提供板块成分股详细分析
- 板块相关基金推荐

### v2.2.1 (2024-06)
- 增加板块分析的日期范围选择功能
- 支持从2015年至今任意时间段的板块分析
- 优化板块相关基金的智能匹配算法
- 改进数据展示和错误处理

## 开发计划
- [ ] 支持更多指数和行业ETF
- [ ] 添加板块轮动策略分析
- [ ] 增加板块趋势预测功能
- [ ] 优化板块相关基金智能匹配算法
- [ ] 增加板块内股票相关性分析
- [ ] 提供板块历史表现的季度/年度对比视图

## 贡献指南
欢迎提交Issue和Pull Request，一起改进项目

## 许可证
MIT License
